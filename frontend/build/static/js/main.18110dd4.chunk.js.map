{"version":3,"sources":["url.js","components/Title/Title.js","components/Login/Login.js","components/Recent/Recent.js","components/CartItem/CartItem.js","components/Cart/Cart.js","components/Store/Store.js","components/Footer/Footer.js","components/Container/Container.js","App.js","reportWebVitals.js","index.js"],"names":["REACT_APP_API_URL","process","url","login","storeItem","cart","module","exports","Title","props","state","title","id","this","React","Component","Login","usernameInput","createRef","passwordInput","loginHandler","bind","logoutHandler","current","value","body","email","password","axios","post","res","setUser","data","user","setJWT","jwt","setCart","console","log","alert","logout","firstName","onClick","className","placeholder","ref","showLogin","Recent","showRecentItems","prevProps","recentStoreItemsViewed","items","forEach","item","push","name","_id","stopScrollPropagation","smoothScrolling","CartItem","onRemoveCartItem","delete","headers","params","userId","cartItemId","cartItem","quantity","price","parseInt","parseFloat","Cart","showCartItems","showCartTotal","cartItems","cartItemList","map","length","cartSum","reduce","acc","Store","storeItems","listItems","sort_asc","onItemClicked","onAddToCart","showlistItems","onSort","onSearch","get","setState","createItems","newListItems","setRecentlyViewedItems","config","storeItemId","e","sortedItems","sort","a","b","preventDefault","searchInput","document","getElementById","expr","onChange","Footer","text","author","Container","user_to_set","jwt_to_set","num","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","defaults","withCredentials","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.18110dd4.chunk.js","sourcesContent":["const { REACT_APP_API_URL } = process.env;\n\nconst url = {\n    login: REACT_APP_API_URL + '/user/login',\n    storeItem: REACT_APP_API_URL + '/storeItem',\n    cart: REACT_APP_API_URL + '/cart',\n}\n\nmodule.exports = url;","import React from 'react';\nimport './Title.css';\n\nexport default class Title extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            title: 'Web Store'\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <h1 id=\"title-header\">{this.state.title}</h1>\n            </div>\n        )\n    }\n}","import React, { Fragment } from 'react';\nimport axios from 'axios';\nimport './Login.css';\nimport url from '../../url';\n\n\nexport default class Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            title: 'Login',\n        }\n\n        this.usernameInput = React.createRef();\n        this.passwordInput = React.createRef();\n\n        this.loginHandler = this.loginHandler.bind(this);\n        this.logoutHandler = this.logoutHandler.bind(this);\n    }\n\n    async loginHandler() {\n        // Log the User in\n\n        if (this.usernameInput.current.value && this.passwordInput.current.value) {\n            const body = {\n                email: this.usernameInput.current.value,\n                password: this.passwordInput.current.value\n            }\n\n            try {\n                const res = await axios.post(url.login, body)\n                this.props.setUser(res.data.user);\n                this.props.setJWT(res.data.jwt);\n                this.props.setCart();\n            }\n            catch (err) {\n                console.log(err)\n                alert(\"Log In Failed\");             \n            }\n        }\n        else {\n            alert(\"Please enter a username and password\")\n        }\n    }\n\n    logoutHandler() {\n        // Log the User out\n\n        this.props.logout()\n    }\n\n    showLogin() {\n        // JSX Login/Logout\n\n        if (this.props.user) {\n            return (\n                <div>\n                    <h2>Welcome, {this.props.user.firstName}</h2>\n                    <button onClick={this.logoutHandler}>Log Out</button>\n                </div>\n            )\n        }\n        else {\n            return (\n                <div id=\"login-component\">\n                    <h2>Log In</h2>\n                    <input id=\"inputUsername\" className=\"login-group\" placeholder=\"username\" ref={this.usernameInput}></input>\n                    <input id=\"inputPassword\" className=\"login-group\" placeholder=\"password\" ref={this.passwordInput}></input>\n                    <button className=\"login-group\" onClick={this.loginHandler}>Submit</button>\n                </div>\n            )\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <Fragment>{this.showLogin()}</Fragment>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport axios from 'axios';\nimport ScrollArea from 'react-scrollbar';\nimport './Recent.css';\n\nexport default class Recent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            title: 'Recently Viewed'\n        }\n\n        this.showRecentItems = this.showRecentItems.bind(this);\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.recentStoreItemsViewed !== prevProps.recentStoreItemsViewed) {\n            // this check prevents infinite recursion\n\n            this.showRecentItems();\n        }\n    }\n\n    showRecentItems() {\n        if (this.props.recentStoreItemsViewed) {\n            const items = [];\n            this.props.recentStoreItemsViewed.forEach((item) => {\n                items.push(<li id=\"recent-item\" key={item._id}>{item.name}</li>)             \n            });\n    \n            return (\n                <ol>\n                    {items}\n                </ol>\n            )\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <h2>{this.state.title}</h2>           \n                <ScrollArea stopScrollPropagation={true} smoothScrolling={true} className=\"small-scroll-area\">\n                    {this.showRecentItems}        \n                </ScrollArea>\n            </div>\n        )\n    }\n\n}","import axios from 'axios';\nimport React from 'react';\nimport url from '../../url';\n\nexport default class CartItem extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.onRemoveCartItem = this.onRemoveCartItem.bind(this);\n    }\n\n    async onRemoveCartItem() {\n        try {\n            await axios.delete(url.cart, {\n                headers: {\n                    'Authorization': `Bearer: ${this.props.jwt}`\n                },\n                params: {\n                    userId: this.props.user._id,\n                    cartItemId: this.props.cartItem._id,\n                    quantity: this.props.cartItem.quantity\n                }\n            });\n\n            this.props.setCart();\n        }\n        catch (err) {\n            console.log(err);\n            alert(\"Request failed\")\n        }\n    }\n\n    render() {\n        return (\n            <tr>\n                <td>{this.props.cartItem.storeItem.name}</td>\n                <td className=\"money-color\">${this.props.cartItem.storeItem.price}</td>\n                <td>{this.props.cartItem.quantity}</td>\n                <td className=\"money-color\">${parseInt(this.props.cartItem.quantity) * parseFloat(this.props.cartItem.storeItem.price)}</td>\n                <td><button onClick={() => this.onRemoveCartItem()}>X</button></td>                \n            </tr>\n        )\n    }\n}","import React from 'react';\nimport Axios from 'axios';\nimport CartItem from '../CartItem/CartItem';\nimport ScrollArea from 'react-scrollbar';\nimport './Cart.css'\n\nexport default class Cart extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            title: 'Cart',\n        }\n\n        this.showCartItems = this.showCartItems.bind(this);\n        this.showCartTotal = this.showCartTotal.bind(this);\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.cartItems !== prevProps.cartItems) {\n            // this check prevents infinite recursion\n\n            //this.showCartItems();\n        }\n    }\n\n    getCartTotal() {\n\n    }\n\n    showCartItems() {\n        const cartItemList = this.props.cartItems.map((item) => \n            <CartItem key={item._id} setCart={this.props.setCart} cartItem={item} user={this.props.user} jwt={this.props.jwt}/>\n        );\n\n        if (this.props.user) {\n            if (cartItemList && cartItemList.length > 0) {\n                return (\n                    <div>\n                        <table>\n                            <thead>\n                                <tr>\n                                    <th>Item</th>\n                                    <th>Price</th>\n                                    <th>Quantity</th>\n                                    <th>Total</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {cartItemList}\n                            </tbody>              \n                        </table>\n                    </div>\n                )\n            }\n            else {\n                return (\n                    <h4 id=\"empty\">Empty</h4>\n                )\n            }\n        }\n    }\n\n    showCartTotal() {\n        if (this.props.user && this.props.cartItems && this.props.cartItems.length > 0) {\n            const cartSumReducer = (acc, item) => acc + parseInt(item.quantity) * parseInt(item.storeItem.price)\n            const cartSum = this.props.cartItems.reduce(cartSumReducer, 0);\n            return (\n                <h4>Total: ${cartSum}</h4>\n            )\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <h2>{this.state.title}</h2>\n                {this.showCartTotal}\n                <ScrollArea stopScrollPropagation={true} smoothScrolling={true} className=\"small-scroll-area\">\n                    {this.showCartItems}   \n                </ScrollArea>\n            </div>\n\n        )\n    }\n\n}","import React from 'react';\nimport axios from 'axios';\nimport ScrollArea from 'react-scrollbar';\nimport url from '../../url';\nimport './Store.css';\n\nexport default class Store extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            title: 'Store Items',\n            storeItems: [],\n            listItems: [], // JSX list made from storeItems\n            sort_asc: true\n        }\n\n        this.onItemClicked = this.onItemClicked.bind(this);\n        this.onAddToCart = this.onAddToCart.bind(this);\n        this.showlistItems = this.showlistItems.bind(this);\n        this.onSort = this.onSort.bind(this);\n        this.onSearch = this.onSearch.bind(this);\n    }\n\n    async componentDidMount() {\n        try {\n            const res = await axios.get(url.storeItem);\n            this.setState(\n                {storeItems: res.data},\n                this.createItems\n            )\n            \n        }\n        catch (err) {\n            console.log(err);\n            alert(\"Store Items not available\")\n        }\n    }\n\n    createItems() {\n        // Creates array of JSX list elements from local state\n\n        const newListItems = [];\n        this.state.storeItems.forEach(item => {\n            newListItems.push(\n                <li className=\"item\" key={item._id} name={item.name}>\n                    <button className=\"item-name\" onClick={() => this.onItemClicked(item)}>{item.name}</button>\n                    <span className=\"item-price money-color\">${item.price}</span>\n                    <button className=\"item-add\" onClick={() => this.onAddToCart(item)}>Add</button>\n                </li>\n            )\n        })\n        this.setState({listItems: newListItems})\n    }\n\n    async onItemClicked(item) {\n        // Fires when user clicks on a store item\n\n        try {\n            await axios.get(url.storeItem, {\n                headers: {\n                    'Authorization': `Bearer: ${this.props.jwt}`\n                },\n                params: {\n                    id: item._id\n                }\n            });\n\n            this.props.setRecentlyViewedItems();\n        }\n        catch (err) {\n            console.log(err);\n        }\n    }\n\n    async onAddToCart(item) {\n        // Fires when user adds a store item to the cart\n\n        if (this.props.user) {\n            const config = {\n                headers: {\n                    'Authorization': `Bearer: ${this.props.jwt}`\n                },\n                params: {\n                    userId: this.props.user._id,\n                    storeItemId: item._id,\n                    quantity: 1\n                }\n            }\n            try {\n                const res = await axios.post(url.cart, null, config)\n                this.props.setCart();  // Refresh cart items\n                this.props.setRecentlyViewedItems();\n            }\n            catch (err) {\n                console.log(err);\n            }\n        }\n        else {\n            alert(\"Please Log In\")\n        }\n\n    }\n\n    showlistItems() {\n        return this.state.listItems\n    }\n\n    onSort(e) {\n        // Sort executed locally\n\n        this.setState({sort_asc: !this.state.sort_asc})\n\n        const sortedItems = [...this.state.listItems].sort((a, b) => {\n            // note: a, b are <li> that have been assigned a name property\n            if (a.props.name > b.props.name) {\n                return this.state.sort_asc ? -1 : 1;\n            }\n            if (a.props.name < b.props.name) {\n                return this.state.sort_asc ? 1 : -1;\n            }\n            return 0;\n        });\n        this.setState({listItems: sortedItems})\n        e.preventDefault();\n    }\n\n    async onSearch(e) {\n        // Seach executed by API\n\n        const searchInput = document.getElementById(\"item-search-input\").value;\n        \n        const res = await axios.get(url.storeItem, {\n            params: {\n                expr: searchInput\n            }\n        }); \n\n        this.setState({storeItems: res.data}, this.createItems)\n        e.preventDefault();\n    }\n\n    render() {\n        return (\n            <div id=\"store-component\">   \n                <h2 id=\"store-title\">{this.state.title}</h2>\n                <input id=\"item-search-input\" onChange={this.onSearch} placeholder=\"search...\"></input>\n                <button id=\"sort-btn\" onClick={this.onSort}>Sort</button>            \n                <ScrollArea stopScrollPropagation={true} smoothScrolling={true} className=\"store-scroll-area\">\n                    <ul id=\"item-list\">{ this.showlistItems() }</ul>\n                </ScrollArea>\n            </div>\n        )\n    }\n\n}","import React from 'react';\nimport './Footer.css';\n\nexport default class Footer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            text: 'Created 2020',\n            author: 'Jon Pierre'\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <p className=\"footer-text\">{this.state.text}</p>\n                <p className=\"footer-text\">{this.state.author}</p>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport Title from '../Title/Title';\nimport Login from '../Login/Login';\nimport Recent from '../Recent/Recent';\nimport Cart from '../Cart/Cart';\nimport Store from '../Store/Store';\nimport Footer from '../Footer/Footer';\nimport './Container.css';\nimport url from '../../url';\nimport axios from 'axios';\n\n\nexport default class Container extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            user: null,\n            jwt: '',\n            cartItems: [],\n            recentStoreItemsViewed: []\n        }\n\n        this.setUser = this.setUser.bind(this);\n        this.setJWT = this.setJWT.bind(this);\n        this.setCart = this.setCart.bind(this);\n        this.setRecentlyViewedItems = this.setRecentlyViewedItems.bind(this);\n        this.logout = this.logout.bind(this);\n    }\n\n    componentDidMount() {\n        this.setRecentlyViewedItems();\n    }\n\n    logout() {\n        this.setState({\n            user: null,\n            jwt: '',\n            cartItems: []\n        })\n    }\n\n    setUser(user_to_set) {\n        this.setState({user: user_to_set})\n    }\n\n    setJWT(jwt_to_set) {\n        this.setState({jwt: jwt_to_set})\n    }\n\n    async setCart() {\n        if (this.state.user) {\n            const config = {\n                headers: {\n                    'Authorization': `Bearer: ${this.state.jwt}`\n                },\n                params: {\n                    userId: this.state.user._id\n                }\n            }\n\n            try {\n                const res = await axios.get(url.cart, config)\n\n                this.setState({cartItems: res.data})\n            }\n            catch (err) {\n                alert(\"Cart Items Unavailable\")\n            }\n        }\n    }\n\n    async setRecentlyViewedItems(num=10) {\n        try {\n            const res = await axios.get(url.storeItem, {\n                headers: {\n                    'Authorization': `Bearer: ${this.state.jwt}`\n                },\n                params: {\n                    'recent': num\n                }\n            });\n    \n            this.setState({recentStoreItemsViewed: res.data})\n        }\n        catch (err) {\n            console.log(err);\n        }\n    }\n\n    render() {\n        return (\n            <div id=\"container\">\n                <div id=\"title\" className=\"component\">\n                    <Title ></Title>\n                </div>\n                <div id=\"login\" className=\"component\">\n                    <Login  user={this.state.user} setUser={this.setUser}\n                            jwt={this.state.jwt}  setJWT={this.setJWT}\n                            setCart={this.setCart} logout={this.logout}>\n                    </Login>\n                </div>\n                <section id=\"user-section\">\n                    <div id=\"recent\" className=\"component\">\n                        <Recent user={this.state.user}\n                                jwt={this.state.jwt}\n                                recentStoreItemsViewed={this.state.recentStoreItemsViewed}\n                                setRecentlyViewedItems={this.setRecentlyViewedItems}>\n                        </Recent>\n                    </div>\n                    <div id=\"cart\" className=\"component\">\n                        <Cart  user={this.state.user}\n                            jwt={this.state.jwt}\n                            cartItems={this.state.cartItems} setCart={this.setCart}>\n                        </Cart>\n                    </div>\n                </section>\n                <div id=\"store\" className=\"component\">\n                    <Store  user={this.state.user}\n                            jwt={this.state.jwt}\n                            setCart={this.setCart}\n                            setRecentlyViewedItems={this.setRecentlyViewedItems}>\n                    </Store>\n                </div>\n                <div id=\"footer\" className=\"component\">\n                    <Footer></Footer>\n                </div>\n            </div>\n        )\n    }\n}\n","import './App.css';\nimport Container from './components/Container/Container'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Container></Container>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport axios from 'axios';\n\n// Allows session data to be sent for all requests.\naxios.defaults.withCredentials = true;\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}